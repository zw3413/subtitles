{"version":3,"sources":["theme/components/styled.tsx","theme/colors.ts","theme/default.ts","theme/index.ts","utils/lowerBound.tsx","utils/doubleDigits.tsx","theme/components/base.tsx","theme/shadow.ts","theme/components/text.tsx","hooks/animation_interval.ts","hooks/timer.ts","components/time_stamp.tsx","theme/components/layout.tsx","theme/components/box.tsx","components/scrub_bar.tsx","theme/components/process_colors.tsx","theme/components/button.tsx","components/current_subtitle.tsx","theme/components/shift_colors.tsx","theme/components/input.tsx","components/speed_field.tsx","theme/components/content.tsx","components/subtitle_player.tsx","components/subtitle_dropzone.tsx","theme/components/link.tsx","images/resources/export/icon.svg","images/screenshot.png","components/landing_page.tsx","App.tsx","index.tsx"],"names":["default","styled","ThemeProvider","useTheme","styledComponents","palette","blue","black","white","dark","darkBlue","lightGray","red","defaultTheme","colors","foreground","background","elementSizes","icon","scrubbar","scrubCursor","content","logo","screenshot","spacings","xxs","xs","s","m","ml","l","xl","xxl","lineHeight","fontSizes","fontWeights","normal","bold","lighter","breakpoints","mobileM","mobileS","getSpacing","theme","spacing","concat","lowerBound","arr","condition","start","end","length","pivot","Math","floor","doubleDigits","t","abs","toString","baseStyle","props","padding","paddingTop","verticalPadding","paddingBottom","paddingLeft","horizontalPadding","paddingRight","margin","marginLeft","horizontalMargin","marginRight","marginTop","verticalMargin","marginBottom","getCssShadow","yOffset","blur","opacity","Text","_props$fontWeight","_props$fontSize","fontWeight","color","fontSize","Bold","Monospace","fontFamily","requestAnimationInterval","_props$shadowOffset","_props$shadowSpread","_props$shadowOpacity","textShadow","shadowOffset","shadowSpread","shadowOpacity","callback","id","active","loop","requestAnimationFrame","cancelAnimationFrame","Timer","constructor","t0","arguments","undefined","v","running","stopCallback","observers","Set","this","broadcast","forEach","observer","tStart","Date","now","pause","_this$stopCallback","call","set","observe","add","delete","TimerContext","createContext","TimerProvider","Provider","useTimer","useContext","TimeStamp","memo","timer","seconds","setSeconds","useState","useEffect","_jsx","children","_jsxs","Layout","display","flexDirection","Box","backgroundColor","borderRadius","overflow","ScrubPosition","boxShadow","_ref","max","pos","setPos","style","position","left","top","height","width","ScrubBar","_ref2","_cues$end","_cues","cues","maxT","canvasRef","useRef","draw","useCallback","canvas","offsetWidth","offsetHeight","ctx","getContext","clearRect","scale","fillStyle","c","fillRect","current","mouseListener","event","buttons","rect","getBoundingClientRect","x","clientX","touchListener","touches","min","resizeListener","window","addEventListener","removeEventListener","cursor","ref","processColors","mode","strength","Color","darken","desaturate","lighten","saturate","alpha","ProcessColors","innerTheme","useMemo","hoverColor","colorCode","isDark","string","pressColor","Button","attrs","as","_templateObject","_taggedTemplateLiteral","disabled","TextButton","_templateObject2","CurrentSubtitle","setCurrent","currentCue","text","textAlign","ShiftColors","Input","_props$as","border","outlineWidth","SpeedField","speed","editable","setEditable","speedStr","setSpeedStr","prevSpeed","setPrevSpeed","inputRef","input","scrollWidth","eventListener","key","Number","parseFloat","isFinite","onChange","currentTarget","value","onClick","toPrecision","Content","SubtitlePlayer","subtitles","close","setRunning","setSpeed","adaptive","setAdaptive","fullScreen","setFullScreen","startTime","filter","type","map","data","noSleep","NoSleep","document","enableNoSleep","enable","disable","adaptSpeed","resetSpeed","jumpToNext","jumpToPrevious","listener","flex","minHeight","alignSelf","AiOutlineFullscreenExit","justifyContent","alignItems","MdClose","MdFastRewind","MdPause","MdPlayArrow","MdFastForward","AiOutlineFullscreen","_Fragment","title","textDecoration","SubtitleDropzone","error","setError","getRootProps","getInputProps","isDragActive","useDropzone","onDrop","files","reader","FileReader","onload","_event$target","onLoad","parseSync","target","result","String","readAsText","Link","LandingPage","setSubtitles","zIndex","maxWidth","alt","src","Logo","objectFit","href","FaGithub","size","App","rootElement","getElementById","app","React","StrictMode","hasChildNodes","hydrate","render"],"mappings":"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","file":"static/js/main.ed95c957.chunk.js","sourcesContent":["import * as styledComponents from \"styled-components\";\r\n\r\nimport { Theme } from \"../\";\r\n\r\nconst {\r\n  default: styled,\r\n  ThemeProvider,\r\n  useTheme,\r\n} = (styledComponents as unknown) as styledComponents.ThemedStyledComponentsModule<Theme>;\r\n\r\nexport { styled, ThemeProvider, useTheme };\r\n","export const palette = {\r\n  blue: \"rgb(98,135,161)\",\r\n  black: \"black\",\r\n  white: \"white\",\r\n  dark: \"#111111\",\r\n  darkBlue: \"#0a6bab\",\r\n  lightGray: \"#CCCCCC\",\r\n  red: \"red\",\r\n};\r\n","import { palette } from \"./colors\";\r\n\r\nexport const defaultTheme = {\r\n  palette,\r\n  colors: {\r\n    foreground: palette.lightGray,\r\n    background: palette.dark,\r\n  },\r\n  elementSizes: {\r\n    icon: 44,\r\n    scrubbar: 30,\r\n    scrubCursor: 2,\r\n    content: 800,\r\n    logo: 150,\r\n    screenshot: 500,\r\n  },\r\n  spacings: {\r\n    xxs: 1,\r\n    xs: 2,\r\n    s: 5,\r\n    m: 10,\r\n    ml: 20,\r\n    l: 50,\r\n    xl: 100,\r\n    xxl: 250,\r\n  },\r\n  lineHeight: 1.5,\r\n  fontSizes: {\r\n    xxs: 10,\r\n    xs: 12,\r\n    s: 14,\r\n    m: 16,\r\n    ml: 20,\r\n    l: 24,\r\n    xl: 32,\r\n    xxl: 48,\r\n  },\r\n  fontWeights: {\r\n    normal: \"normal\",\r\n    bold: \"bold\",\r\n    lighter: \"lighter\",\r\n  } as const,\r\n  breakpoints: {\r\n    mobileM: 750,\r\n    mobileS: 350,\r\n  },\r\n};\r\n","import { defaultTheme } from \"./default\";\r\n\r\nexport type Theme = typeof defaultTheme;\r\n\r\nexport type Spacing = keyof Theme[\"spacings\"];\r\nexport type FontSize = keyof Theme[\"fontSizes\"];\r\nexport type FontWeight = keyof Theme[\"fontWeights\"];\r\nexport type Color = keyof Theme[\"colors\"];\r\nexport type PaletteColor = keyof Theme[\"palette\"];\r\n\r\nexport { defaultTheme };\r\n\r\nexport const getSpacing = (theme: Theme, spacing?: Spacing) =>\r\n  spacing && `${theme.spacings[spacing]}px`;\r\n\r\nexport const getFontSize = (theme: Theme, fontSize?: FontSize) =>\r\n  fontSize && theme.fontSizes[fontSize];\r\n","export function lowerBound<T>(arr: T[], condition: (r: T) => boolean) {\r\n  let start = 0;\r\n  let end = arr.length;\r\n\r\n  while (start < end) {\r\n    let pivot = Math.floor((end + start) / 2);\r\n    if (condition(arr[pivot])) {\r\n      end = pivot;\r\n    } else {\r\n      start = pivot + 1;\r\n    }\r\n  }\r\n\r\n  return start;\r\n}\r\n","export const doubleDigits = (t: number) => {\r\n  return Math.abs(t) < 10 ? `0${t}` : t.toString();\r\n};\r\n","import { getSpacing, Spacing, Theme } from \"..\";\r\n\r\nexport interface BaseProps {\r\n  padding?: Spacing;\r\n  horizontalPadding?: Spacing;\r\n  verticalPadding?: Spacing;\r\n  margin?: Spacing;\r\n  horizontalMargin?: Spacing;\r\n  verticalMargin?: Spacing;\r\n}\r\n\r\nexport const baseStyle = (props: BaseProps & { theme: Theme }) =>\r\n  ({\r\n    padding: getSpacing(props.theme, props.padding),\r\n    paddingTop: getSpacing(props.theme, props.verticalPadding),\r\n    paddingBottom: getSpacing(props.theme, props.verticalPadding),\r\n    paddingLeft: getSpacing(props.theme, props.horizontalPadding),\r\n    paddingRight: getSpacing(props.theme, props.horizontalPadding),\r\n    margin: getSpacing(props.theme, props.margin),\r\n    marginLeft: getSpacing(props.theme, props.horizontalMargin),\r\n    marginRight: getSpacing(props.theme, props.horizontalMargin),\r\n    marginTop: getSpacing(props.theme, props.verticalMargin),\r\n    marginBottom: getSpacing(props.theme, props.verticalMargin),\r\n  } as const);\r\n","import { getSpacing, Spacing, Theme } from \".\";\r\n\r\nexport const getCssShadow = (\r\n  yOffset: Spacing,\r\n  blur: Spacing,\r\n  opacity: number,\r\n  theme: Theme\r\n) => {\r\n  return `rgba(0,0,0,${opacity}) 0px ${getSpacing(theme, yOffset)} ${getSpacing(\r\n    theme,\r\n    blur\r\n  )}`;\r\n};\r\n","import { FontSize, FontWeight, Spacing } from \"..\";\r\nimport { BaseProps, baseStyle } from \"./base\";\r\nimport { styled } from \"./styled\";\r\nimport { getCssShadow } from \"../shadow\";\r\n\r\nexport const Text = styled(\"span\")<\r\n  {\r\n    fontSize?: FontSize;\r\n    fontWeight?: FontWeight;\r\n  } & BaseProps\r\n>((props) => [\r\n  baseStyle(props),\r\n  {\r\n    fontWeight: props.theme.fontWeights[props.fontWeight ?? \"normal\"],\r\n    color: props.theme.colors.foreground,\r\n    fontSize: props.theme.fontSizes[props.fontSize ?? \"m\"],\r\n    lineHeight: props.theme.lineHeight,\r\n  },\r\n]);\r\n\r\nexport const Bold = styled(\"span\")((props) => ({\r\n  fontWeight: props.theme.fontWeights[\"bold\"],\r\n}));\r\n\r\nexport const Monospace = styled(\"span\")((props) => ({\r\n  fontFamily: \"monospace\",\r\n}));\r\n\r\nexport const ShadowedText = styled(Text)<{\r\n  shadowOffset?: Spacing;\r\n  shadowSpread?: Spacing;\r\n  shadowOpacity?: number;\r\n}>((props) => ({\r\n  textShadow: getCssShadow(\r\n    props.shadowOffset ?? \"xs\",\r\n    props.shadowSpread ?? \"xs\",\r\n    props.shadowOpacity ?? 0.5,\r\n    props.theme\r\n  ),\r\n}));\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n\r\nimport { useEffect } from \"react\";\r\n\r\nexport const requestAnimationInterval = (callback: () => void) => {\r\n  let active = true;\r\n  let id: number;\r\n  const loop = () => {\r\n    if (active) {\r\n      callback();\r\n      id = requestAnimationFrame(loop);\r\n    }\r\n  };\r\n  id = requestAnimationFrame(loop);\r\n  return () => {\r\n    active = false;\r\n    cancelAnimationFrame(id);\r\n  };\r\n};\r\n\r\nexport const useAnimationInterval = (\r\n  callback: () => void,\r\n  dependencies: any[] = []\r\n) => {\r\n  useEffect(() => requestAnimationInterval(callback), [\r\n    callback,\r\n    ...dependencies,\r\n  ]);\r\n};\r\n","import { createContext, useContext } from \"react\";\r\nimport { requestAnimationInterval } from \"./animation_interval\";\r\n\r\ntype Observer = (t: number) => void;\r\n\r\nexport class Timer {\r\n  public t: number;\r\n  public running = false;\r\n\r\n  private stopCallback?: () => void;\r\n  private observers = new Set<Observer>();\r\n\r\n  constructor(public t0 = 0, public v = 1) {\r\n    this.t = t0;\r\n  }\r\n\r\n  broadcast() {\r\n    const t = this.t;\r\n    this.observers.forEach((observer) => observer(t));\r\n  }\r\n\r\n  public start() {\r\n    if (!this.running) {\r\n      this.running = true;\r\n      const tStart = Date.now();\r\n      this.stopCallback = requestAnimationInterval(() => {\r\n        this.t = (Date.now() - tStart) * this.v + this.t0;\r\n        this.broadcast();\r\n      });\r\n    }\r\n  }\r\n\r\n  public pause(broadcast = true) {\r\n    this.stopCallback?.();\r\n    this.stopCallback = undefined;\r\n    this.running = false;\r\n    this.t0 = this.t;\r\n    if (broadcast) {\r\n      this.broadcast();\r\n    }\r\n  }\r\n\r\n  public set(t: number, v = this.v) {\r\n    this.t = t;\r\n    this.v = v;\r\n    if (this.running) {\r\n      this.pause(false);\r\n      this.start();\r\n    } else {\r\n      this.t0 = t;\r\n      this.broadcast();\r\n    }\r\n  }\r\n\r\n  public observe(observer: Observer) {\r\n    this.observers.add(observer);\r\n    return () => {\r\n      this.observers.delete(observer);\r\n    };\r\n  }\r\n}\r\n\r\nconst TimerContext = createContext(new Timer());\r\n\r\nexport const TimerProvider = TimerContext.Provider;\r\nexport const useTimer = () => useContext(TimerContext);\r\n","import React, { memo, useEffect, useState } from \"react\";\r\nimport { doubleDigits } from \"../utils/doubleDigits\";\r\nimport { Monospace, Text } from \"../theme/components/text\";\r\nimport { useTimer } from \"../hooks/timer\";\r\n\r\nexport const TimeStamp = memo(() => {\r\n  const timer = useTimer();\r\n  const [seconds, setSeconds] = useState(timer.t);\r\n\r\n  useEffect(() => {\r\n    return timer.observe((t) => setSeconds(Math.floor(t / 1000)));\r\n  }, [timer]);\r\n\r\n  return (\r\n    <Text fontSize=\"m\">\r\n      <Monospace>\r\n        {doubleDigits(Math.floor(seconds / (60 * 60)))}:\r\n        {doubleDigits(Math.floor((seconds / 60) % 60))}:\r\n        {doubleDigits(Math.floor(seconds % 60))}\r\n      </Monospace>\r\n    </Text>\r\n  );\r\n});\r\n","import { styled } from \"./styled\";\r\nimport { BaseProps, baseStyle } from \"./base\";\r\n\r\nexport const Layout = styled(\"div\")<BaseProps>((props) => ({\r\n  ...baseStyle(props),\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n}));\r\n","import { getSpacing, Spacing } from \"..\";\r\nimport { Layout } from \"./layout\";\r\nimport { styled } from \"./styled\";\r\nimport { getCssShadow } from \"../shadow\";\r\n\r\nexport const Box = styled(Layout)<{\r\n  borderRadius?: Spacing;\r\n}>((props) => ({\r\n  backgroundColor: props.theme.colors.background,\r\n  borderRadius: getSpacing(props.theme, props.borderRadius),\r\n  overflow: \"hidden\",\r\n}));\r\n\r\nexport const ShadowedBox = styled(Box)<{\r\n  shadowOffset?: Spacing;\r\n  shadowSpread?: Spacing;\r\n  shadowOpacity?: number;\r\n}>((props) => ({\r\n  boxShadow: getCssShadow(\r\n    props.shadowOffset ?? \"xs\",\r\n    props.shadowSpread ?? \"xs\",\r\n    props.shadowOpacity ?? 0.5,\r\n    props.theme\r\n  ),\r\n}));\r\n","import React, { useCallback, useEffect, useState, useRef, memo } from \"react\";\r\nimport { Cue } from \"subtitle\";\r\nimport { useTheme } from \"../hooks/theme\";\r\nimport { useTimer } from \"../hooks/timer\";\r\nimport { Box } from \"../theme/components/box\";\r\n\r\nconst ScrubPosition = ({ max }: { max: number }) => {\r\n  const { palette, elementSizes } = useTheme();\r\n  const timer = useTimer();\r\n  const [pos, setPos] = useState(0);\r\n\r\n  useEffect(() => {\r\n    return timer.observe((t) => setPos(t / max));\r\n  }, [timer, max]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        left: `${pos * 100}%`,\r\n        top: 0,\r\n        height: \"100%\",\r\n        width: elementSizes.scrubCursor,\r\n        backgroundColor: palette.red,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const ScrubBar = memo(({ cues }: { cues: Cue[] }) => {\r\n  const { colors, elementSizes } = useTheme();\r\n  const maxT = cues[cues.length - 1]?.end ?? 0;\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const timer = useTimer();\r\n\r\n  const draw = useCallback(\r\n    (canvas: HTMLCanvasElement) => {\r\n      canvas.width = canvas.offsetWidth;\r\n      canvas.height = canvas.offsetHeight;\r\n      const ctx = canvas.getContext(\"2d\");\r\n      if (ctx) {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        const scale = canvas.width / maxT;\r\n        ctx.fillStyle = colors.foreground;\r\n        for (const c of cues) {\r\n          ctx.fillRect(\r\n            c.start * scale,\r\n            0,\r\n            (c.end - c.start) * scale,\r\n            canvas.height\r\n          );\r\n        }\r\n      }\r\n    },\r\n    [cues, colors, maxT]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    if (canvas) {\r\n      draw(canvas);\r\n\r\n      const mouseListener = (event: MouseEvent) => {\r\n        if (event.buttons === 1) {\r\n          const rect = canvas.getBoundingClientRect();\r\n          const x = (event.clientX - rect.left) / canvas.offsetWidth;\r\n          timer.set(x * maxT);\r\n        }\r\n      };\r\n      const touchListener = (event: TouchEvent) => {\r\n        const rect = canvas.getBoundingClientRect();\r\n        const x = (event.touches[0].clientX - rect.left) / canvas.offsetWidth;\r\n        timer.set(Math.min(Math.max(x, 0), 1) * maxT);\r\n      };\r\n      const resizeListener = () => draw(canvas);\r\n\r\n      window.addEventListener(\"resize\", resizeListener);\r\n      canvas.addEventListener(\"mousemove\", mouseListener);\r\n      canvas.addEventListener(\"mousedown\", mouseListener);\r\n      canvas.addEventListener(\"touchmove\", touchListener);\r\n      canvas.addEventListener(\"touchstart\", touchListener);\r\n      return () => {\r\n        window.removeEventListener(\"resize\", resizeListener);\r\n        canvas.removeEventListener(\"mousemove\", mouseListener);\r\n        canvas.removeEventListener(\"mousedown\", mouseListener);\r\n        canvas.removeEventListener(\"touchstart\", touchListener);\r\n        canvas.removeEventListener(\"touchmove\", touchListener);\r\n      };\r\n    }\r\n  }, [draw, timer, maxT]);\r\n\r\n  return (\r\n    <Box\r\n      borderRadius=\"m\"\r\n      style={{\r\n        position: \"relative\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n        cursor: \"pointer\",\r\n      }}\r\n    >\r\n      <canvas\r\n        height={elementSizes.scrubbar}\r\n        style={{ display: \"block\" }}\r\n        ref={canvasRef}\r\n      />\r\n      <ScrubPosition max={maxT} />\r\n    </Box>\r\n  );\r\n});\r\n","import Color from \"color\";\r\nimport React, { ReactNode, useMemo } from \"react\";\r\n\r\nimport { Theme } from \"..\";\r\nimport { useTheme, ThemeProvider } from \"../../hooks/theme\";\r\n\r\nconst processColors = (\r\n  { foreground, background }: Theme[\"colors\"],\r\n  mode:\r\n    | \"INVERT\"\r\n    | \"DARKEN_BACKGROUND\"\r\n    | \"LIGHTEN_BACKGROUND\"\r\n    | \"NONE\"\r\n    | \"MAKE_TRANSPARENT\",\r\n  strength = 1\r\n): Theme[\"colors\"] => {\r\n  switch (mode) {\r\n    case \"NONE\":\r\n      return { background, foreground };\r\n    case \"INVERT\":\r\n      return { background: foreground, foreground: background };\r\n    case \"DARKEN_BACKGROUND\":\r\n      return {\r\n        foreground,\r\n        background: Color(background)\r\n          .darken(0.25 * strength)\r\n          .desaturate(0.5 * strength)\r\n          .toString(),\r\n      };\r\n    case \"LIGHTEN_BACKGROUND\":\r\n      return {\r\n        foreground,\r\n        background: Color(background)\r\n          .lighten(0.4 * strength)\r\n          .saturate(0.1 * strength)\r\n          .toString(),\r\n      };\r\n    case \"MAKE_TRANSPARENT\":\r\n      return {\r\n        foreground: Color(foreground)\r\n          .alpha(strength * 0.5)\r\n          .toString(),\r\n        background: Color(background)\r\n          .alpha(strength * 0.5)\r\n          .toString(),\r\n      };\r\n  }\r\n};\r\n\r\nexport const ProcessColors = ({\r\n  children,\r\n  mode = \"INVERT\",\r\n  strength = 1,\r\n}: {\r\n  children: ReactNode;\r\n  mode?: Parameters<typeof processColors>[1];\r\n  strength?: Parameters<typeof processColors>[2];\r\n}) => {\r\n  const theme = useTheme();\r\n\r\n  const innerTheme = useMemo(\r\n    () => ({\r\n      ...theme,\r\n      colors: processColors(theme.colors, mode, strength),\r\n    }),\r\n    [theme, mode, strength]\r\n  );\r\n\r\n  return <ThemeProvider theme={innerTheme}>{children}</ThemeProvider>;\r\n};\r\n","import { styled } from \"./styled\";\r\nimport { Text } from \"./text\";\r\nimport { getCssShadow } from \"../shadow\";\r\nimport Color from \"color\";\r\nimport { getSpacing } from \"..\";\r\n\r\nconst hoverColor = (colorCode: string) => {\r\n  const color = Color(colorCode);\r\n  if (color.isDark()) {\r\n    return color.lighten(0.1).string();\r\n  } else {\r\n    return color.darken(0.1).string();\r\n  }\r\n};\r\n\r\nconst pressColor = (colorCode: string) => {\r\n  const color = Color(colorCode);\r\n  if (color.isDark()) {\r\n    return color.lighten(0.25).string();\r\n  } else {\r\n    return color.darken(0.25).string();\r\n  }\r\n};\r\n\r\nexport const Button = styled(Text).attrs({ as: \"button\" })<\r\n  React.HTMLProps<HTMLButtonElement> & { disabled?: boolean }\r\n>`\r\n  transition: 0.25s;\r\n  border: none;\r\n  border-radius: ${(props) => getSpacing(props.theme, \"m\")};\r\n  outline-width: 0;\r\n  background-color: ${(props) => props.theme.colors.background};\r\n  opacity: ${(props) => (props.disabled ? 0.5 : 1)};\r\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"initial\")};\r\n  box-shadow: ${(props) => getCssShadow(\"xxs\", \"xs\", 0.5, props.theme)};\r\n  :hover {\r\n    cursor: pointer;\r\n    background-color: ${(props) => hoverColor(props.theme.colors.background)};\r\n  }\r\n  :active {\r\n    transition: 0s;\r\n    background-color: ${(props) => pressColor(props.theme.colors.background)};\r\n  }\r\n`;\r\n\r\nexport const TextButton = styled(Text)<\r\n  React.HTMLProps<HTMLButtonElement> & { disabled?: boolean }\r\n>`\r\n  transition: 0.25s;\r\n  opacity: ${(props) => (props.disabled ? 0.5 : 1)};\r\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"initial\")};\r\n  :hover {\r\n    cursor: pointer;\r\n    color: ${(props) => hoverColor(props.theme.colors.foreground)};\r\n  }\r\n  :active {\r\n    transition: 0s;\r\n    color: ${(props) => pressColor(props.theme.colors.foreground)};\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Cue } from \"subtitle\";\r\nimport { lowerBound } from \"../utils/lowerBound\";\r\nimport { Text } from \"../theme/components/text\";\r\nimport { useTimer } from \"../hooks/timer\";\r\n\r\nexport const CurrentSubtitle = ({ cues }: { cues: Cue[] }) => {\r\n  const [current, setCurrent] = useState(\"\");\r\n  const timer = useTimer();\r\n\r\n  useEffect(() => {\r\n    return timer.observe((t) => {\r\n      const currentCue = cues[lowerBound(cues, (v) => t < v.end)];\r\n      setCurrent(currentCue && t >= currentCue.start ? currentCue.text : \"\");\r\n    });\r\n  }, [timer, cues]);\r\n\r\n  return (\r\n    <Text style={{ textAlign: \"center\" }} fontSize=\"xxl\">\r\n      {current}\r\n    </Text>\r\n  );\r\n};\r\n","import React, { ReactNode } from \"react\";\r\n\r\nimport { PaletteColor } from \"..\";\r\nimport { useTheme, ThemeProvider } from \"../../hooks/theme\";\r\n\r\n/**\r\n * Swaps the foreground and background colors or replaces them with the specified values.\r\n */\r\nexport const ShiftColors = ({\r\n  children,\r\n  background,\r\n  foreground,\r\n}: {\r\n  children: ReactNode;\r\n  background?: PaletteColor;\r\n  foreground?: PaletteColor;\r\n}) => {\r\n  const theme = useTheme();\r\n\r\n  const innerTheme = {\r\n    ...theme,\r\n    colors: {\r\n      ...theme.colors,\r\n      background: background\r\n        ? theme.palette[background]\r\n        : theme.colors.background,\r\n      foreground: foreground\r\n        ? theme.palette[foreground]\r\n        : theme.colors.foreground,\r\n    },\r\n  };\r\n\r\n  return <ThemeProvider theme={innerTheme}>{children}</ThemeProvider>;\r\n};\r\n","import { styled } from \"./styled\";\r\nimport { Spacing } from \"..\";\r\nimport { Text } from \"./text\";\r\nimport React from \"react\";\r\n\r\nexport const Input = styled(Text).attrs<{ as?: string }>((props) => ({\r\n  as: props.as ?? \"input\",\r\n}))<\r\n  {\r\n    borderRadius?: Spacing;\r\n    flexDirection?: \"row\" | \"column\";\r\n  } & React.HTMLProps<HTMLInputElement>\r\n>((props) => ({\r\n  background: \"transparent\",\r\n  border: \"none\",\r\n  outlineWidth: 0,\r\n  color: props.theme.colors.foreground,\r\n}));\r\n","import React, { FormEvent, useEffect, useRef, useState } from \"react\";\r\nimport { Monospace } from \"../theme/components/text\";\r\nimport { useTimer } from \"../hooks/timer\";\r\nimport { Input } from \"../theme/components/input\";\r\nimport { useTheme } from \"../hooks/theme\";\r\n\r\nexport const SpeedField = ({ speed }: { speed: number }) => {\r\n  const timer = useTimer();\r\n  const [editable, setEditable] = useState(false);\r\n  const [speedStr, setSpeedStr] = useState(\"\");\r\n  const [prevSpeed, setPrevSpeed] = useState(speed);\r\n  const theme = useTheme();\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (prevSpeed !== speed) {\r\n      setPrevSpeed(speed);\r\n      setEditable(false);\r\n    }\r\n  }, [prevSpeed, speed]);\r\n\r\n  useEffect(() => {\r\n    const input = inputRef.current;\r\n    if (input) {\r\n      input.style.width = `${input.scrollWidth}px`;\r\n      const eventListener = (event: KeyboardEvent) => {\r\n        if (event.key === \"Enter\") {\r\n          const v = Number.parseFloat(speedStr);\r\n          if (isFinite(v)) {\r\n            timer.set(timer.t, v);\r\n          }\r\n          setEditable(false);\r\n        }\r\n      };\r\n      input.addEventListener(\"keyup\", eventListener);\r\n      return () => input.removeEventListener(\"keyup\", eventListener);\r\n    }\r\n  }, [speedStr, timer]);\r\n\r\n  if (editable) {\r\n    return (\r\n      <Input\r\n        ref={inputRef}\r\n        style={{ fontFamily: \"monospace\", width: 3 * theme.fontSizes.m }}\r\n        onChange={(event: FormEvent<HTMLInputElement>) => {\r\n          setSpeedStr(event.currentTarget.value);\r\n        }}\r\n        value={speedStr}\r\n      />\r\n    );\r\n  } else {\r\n    return (\r\n      <Monospace\r\n        onClick={() => {\r\n          setEditable(true);\r\n          setSpeedStr(speed.toPrecision(4));\r\n        }}\r\n      >\r\n        {speed.toPrecision(4)}\r\n      </Monospace>\r\n    );\r\n  }\r\n};\r\n","import { Layout } from \"./layout\";\r\nimport { styled } from \"./styled\";\r\n\r\nexport const Content = styled(Layout).attrs({\r\n  verticalMargin: \"m\",\r\n  horizontalMargin: \"m\",\r\n})((props) => ({\r\n  paddingLeft: \"env(safe-area-inset-left)\",\r\n  paddingRight: \"env(safe-area-inset-right)\",\r\n  paddingTop: \"env(safe-area-inset-top)\",\r\n  paddingBottom: \"env(safe-area-inset-bottom)\",\r\n}));\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { Cue, Node } from \"subtitle\";\r\nimport { lowerBound } from \"../utils/lowerBound\";\r\nimport { TimeStamp } from \"./time_stamp\";\r\nimport { ScrubBar } from \"./scrub_bar\";\r\nimport { ProcessColors } from \"../theme/components/process_colors\";\r\nimport { Bold, Text } from \"../theme/components/text\";\r\nimport { useTimer } from \"../hooks/timer\";\r\nimport { Layout } from \"../theme/components/layout\";\r\nimport { TextButton } from \"../theme/components/button\";\r\nimport {\r\n  MdFastForward,\r\n  MdFastRewind,\r\n  MdPause,\r\n  MdPlayArrow,\r\n  MdClose,\r\n} from \"react-icons/md\";\r\nimport { CurrentSubtitle } from \"./current_subtitle\";\r\nimport NoSleep from \"nosleep.js\";\r\nimport { AiOutlineFullscreenExit, AiOutlineFullscreen } from \"react-icons/ai\";\r\nimport { ShiftColors } from \"../theme/components/shift_colors\";\r\nimport { SpeedField } from \"./speed_field\";\r\nimport { Box } from \"../theme/components/box\";\r\nimport { Content } from \"../theme/components/content\";\r\n\r\nexport const SubtitlePlayer = ({\r\n  subtitles,\r\n  close,\r\n}: {\r\n  subtitles: Node[];\r\n  close: () => void;\r\n}) => {\r\n  const timer = useTimer();\r\n  const [running, setRunning] = useState(timer.running);\r\n  const [speed, setSpeed] = useState(timer.v);\r\n  const [adaptive, setAdaptive] = useState(false);\r\n  const [fullScreen, setFullScreen] = useState(false);\r\n  const startTime = useRef<[number, number]>();\r\n\r\n  const cues = useMemo(\r\n    () => subtitles.filter((s) => s.type === \"cue\").map((s) => s.data as Cue),\r\n    [subtitles]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const noSleep = new NoSleep();\r\n\r\n    document.addEventListener(\r\n      \"click\",\r\n      function enableNoSleep() {\r\n        document.removeEventListener(\"click\", enableNoSleep, false);\r\n        noSleep.enable();\r\n      },\r\n      false\r\n    );\r\n\r\n    return () => {\r\n      noSleep.disable();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const max = cues[cues.length - 1].end;\r\n\r\n    return timer.observe((t) => {\r\n      setRunning(timer.running);\r\n      setSpeed(timer.v);\r\n      if (timer.running && t >= max) {\r\n        timer.pause();\r\n      }\r\n    });\r\n  }, [timer, cues]);\r\n\r\n  const adaptSpeed = useCallback(() => {\r\n    if (adaptive && running) {\r\n      if (startTime.current) {\r\n        const v =\r\n          (timer.t - startTime.current[1]) /\r\n          (Date.now() - startTime.current[0]);\r\n        if (v > 0) {\r\n          timer.set(timer.t, v);\r\n        }\r\n      } else {\r\n        startTime.current = [Date.now(), timer.t];\r\n      }\r\n    } else {\r\n      startTime.current = undefined;\r\n    }\r\n  }, [adaptive, running, timer]);\r\n\r\n  const resetSpeed = useCallback(() => {\r\n    timer.set(timer.t, 1);\r\n    startTime.current = undefined;\r\n    adaptSpeed();\r\n  }, [adaptSpeed, timer]);\r\n\r\n  useEffect(adaptSpeed, [adaptSpeed]);\r\n\r\n  const jumpToNext = useCallback(() => {\r\n    const t = timer.t;\r\n    const currentCue =\r\n      cues[\r\n        Math.min(\r\n          cues.length - 1,\r\n          lowerBound(cues, (v) => t < v.start)\r\n        )\r\n      ];\r\n    timer.set(currentCue.start);\r\n    adaptSpeed();\r\n  }, [cues, timer, adaptSpeed]);\r\n\r\n  const jumpToPrevious = useCallback(() => {\r\n    const t = timer.t;\r\n    const currentCue =\r\n      cues[Math.max(0, lowerBound(cues, (v) => t < v.end) - 1)];\r\n    timer.set(currentCue.start);\r\n    adaptSpeed();\r\n  }, [cues, timer, adaptSpeed]);\r\n\r\n  useEffect(() => {\r\n    const listener = (event: KeyboardEvent) => {\r\n      switch (event.key) {\r\n        case \"ArrowLeft\":\r\n          jumpToPrevious();\r\n          break;\r\n        case \"ArrowRight\":\r\n          jumpToNext();\r\n          break;\r\n        case \" \":\r\n          if (timer.running) {\r\n            timer.pause();\r\n          } else {\r\n            timer.start();\r\n          }\r\n          break;\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", listener);\r\n    return () => document.removeEventListener(\"keydown\", listener);\r\n  }, [jumpToNext, jumpToPrevious, timer]);\r\n\r\n  return (\r\n    <ShiftColors background={fullScreen ? \"black\" : undefined}>\r\n      <Box style={{ flex: 1 }}>\r\n        <Content style={{ flex: 1 }}>\r\n          <Layout\r\n            style={{ flex: 1, minHeight: fullScreen ? \"100vh\" : undefined }}\r\n          >\r\n            {fullScreen ? (\r\n              <TextButton\r\n                style={{ alignSelf: \"flex-end\" }}\r\n                onClick={() => setFullScreen(false)}\r\n                fontSize=\"xl\"\r\n              >\r\n                <AiOutlineFullscreenExit />\r\n              </TextButton>\r\n            ) : (\r\n              <Layout\r\n                style={{\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <TextButton onClick={close} fontSize=\"xl\">\r\n                  <MdClose />\r\n                </TextButton>\r\n\r\n                <TextButton onClick={jumpToPrevious} fontSize=\"xl\">\r\n                  <MdFastRewind />\r\n                </TextButton>\r\n\r\n                <TextButton\r\n                  onClick={() =>\r\n                    timer.running ? timer.pause() : timer.start()\r\n                  }\r\n                  fontSize=\"xl\"\r\n                >\r\n                  {running ? <MdPause /> : <MdPlayArrow />}\r\n                </TextButton>\r\n\r\n                <TextButton onClick={jumpToNext} fontSize=\"xl\">\r\n                  <MdFastForward />\r\n                </TextButton>\r\n\r\n                <TextButton\r\n                  onClick={() => {\r\n                    setFullScreen(true);\r\n                  }}\r\n                  fontSize=\"xl\"\r\n                >\r\n                  <AiOutlineFullscreen />\r\n                </TextButton>\r\n              </Layout>\r\n            )}\r\n\r\n            <ShiftColors foreground=\"white\">\r\n              <Layout style={{ flex: 1, justifyContent: \"center\" }}>\r\n                <CurrentSubtitle cues={cues} />\r\n              </Layout>\r\n            </ShiftColors>\r\n\r\n            {!fullScreen && (\r\n              <>\r\n                <Layout\r\n                  verticalMargin=\"m\"\r\n                  style={{\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"space-between\",\r\n                  }}\r\n                >\r\n                  <TimeStamp />\r\n                  <Layout\r\n                    style={{ flexDirection: \"row\", alignItems: \"center\" }}\r\n                  >\r\n                    <Text>\r\n                      Speed: <SpeedField speed={speed} />\r\n                    </Text>\r\n                    <TextButton\r\n                      title=\"Once activated, the speed will automatically be adjusted to match the current subtitle.\"\r\n                      horizontalMargin=\"m\"\r\n                      onClick={() => setAdaptive(!adaptive)}\r\n                      style={{\r\n                        textDecoration: adaptive ? undefined : \"line-through\",\r\n                      }}\r\n                      fontSize=\"s\"\r\n                      fontWeight={adaptive ? \"bold\" : undefined}\r\n                    >\r\n                      Adaptive\r\n                    </TextButton>\r\n                    <TextButton\r\n                      title=\"Sets the speed to 1\"\r\n                      onClick={resetSpeed}\r\n                      fontSize=\"s\"\r\n                    >\r\n                      <Bold>Reset</Bold>\r\n                    </TextButton>\r\n                  </Layout>\r\n                </Layout>\r\n\r\n                <ProcessColors mode=\"DARKEN_BACKGROUND\">\r\n                  <ScrubBar cues={cues} />\r\n                </ProcessColors>\r\n              </>\r\n            )}\r\n          </Layout>\r\n        </Content>\r\n      </Box>\r\n    </ShiftColors>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { parseSync, Node } from \"subtitle\";\r\nimport { Layout } from \"../theme/components/layout\";\r\nimport { ProcessColors } from \"../theme/components/process_colors\";\r\nimport { Bold, Text } from \"../theme/components/text\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { ShiftColors } from \"../theme/components/shift_colors\";\r\nimport { Button } from \"../theme/components/button\";\r\n\r\nexport const SubtitleDropzone = (props: {\r\n  onLoad: (result: Node[]) => void;\r\n}) => {\r\n  const [error, setError] = useState<string>();\r\n\r\n  const onDrop = (files: File[]) => {\r\n    setError(undefined);\r\n    var reader = new FileReader();\r\n    reader.onload = function (event) {\r\n      try {\r\n        props.onLoad(parseSync(event.target?.result as string));\r\n      } catch (error) {\r\n        setError(String(error));\r\n      }\r\n    };\r\n    reader.readAsText(files[0]);\r\n  };\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n  return (\r\n    <Layout style={{ alignItems: \"center\" }}>\r\n      <div {...getRootProps()}>\r\n        <input {...getInputProps()} />\r\n        <ProcessColors\r\n          mode={isDragActive ? \"INVERT\" : \"LIGHTEN_BACKGROUND\"}\r\n          strength={5}\r\n        >\r\n          <Button padding=\"ml\">\r\n            <Text>\r\n              <Bold>Drop or select subtitle here</Bold>\r\n            </Text>\r\n          </Button>\r\n        </ProcessColors>\r\n      </div>\r\n      <ShiftColors foreground=\"red\">\r\n        <Text margin=\"m\">{error}</Text>\r\n      </ShiftColors>\r\n    </Layout>\r\n  );\r\n};\r\n","import { styled } from \"./styled\";\r\nimport Color from \"color\";\r\n\r\nconst hoverColor = (colorCode: string) => {\r\n  const color = Color(colorCode);\r\n  if (color.isDark()) {\r\n    return color.lighten(0.25).string();\r\n  } else {\r\n    return color.darken(0.25).string();\r\n  }\r\n};\r\n\r\nconst pressColor = (colorCode: string) => {\r\n  const color = Color(colorCode);\r\n  if (color.isDark()) {\r\n    return color.lighten(0.5).string();\r\n  } else {\r\n    return color.darken(0.5).string();\r\n  }\r\n};\r\n\r\nexport const Link = styled(\"a\")`\r\n  color: ${(props) => props.theme.colors.foreground};\r\n  text-decoration: none;\r\n  transition: 0.5s;\r\n  :hover {\r\n    transition: 0.5s;\r\n    cursor: pointer;\r\n    color: ${(props) => hoverColor(props.theme.colors.foreground)};\r\n    text-decoration: none;\r\n  }\r\n  :active {\r\n    transition: 0s;\r\n    color: ${(props) => pressColor(props.theme.colors.foreground)};\r\n  }\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/icon.6e1e5cca.svg\";","export default __webpack_public_path__ + \"static/media/screenshot.ce0f32a9.png\";","import React from \"react\";\r\nimport { Node } from \"subtitle\";\r\nimport { SubtitleDropzone } from \"./subtitle_dropzone\";\r\nimport { Bold, Text } from \"../theme/components/text\";\r\nimport { Layout } from \"../theme/components/layout\";\r\nimport { Link } from \"../theme/components/link\";\r\nimport { Box } from \"../theme/components/box\";\r\nimport { Content } from \"../theme/components/content\";\r\nimport Logo from \"../images/resources/export/icon.svg\";\r\nimport { useTheme } from \"../hooks/theme\";\r\nimport { FaGithub } from \"react-icons/fa\";\r\nimport { TextButton } from \"../theme/components/button\";\r\nimport screenshot from \"../images/screenshot.png\";\r\n\r\nexport const LandingPage = ({\r\n  setSubtitles,\r\n}: {\r\n  setSubtitles: (subs: Node[]) => void;\r\n}) => {\r\n  const { elementSizes } = useTheme();\r\n\r\n  return (\r\n    <Box style={{ flex: 1, alignItems: \"center\" }}>\r\n      <Content style={{ flex: 1, zIndex: 1, maxWidth: elementSizes.content }}>\r\n        <Layout\r\n          style={{\r\n            flex: 1,\r\n            justifyContent: \"space-around\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Layout margin=\"l\" style={{ width: \"100%\", alignItems: \"center\" }}>\r\n            <img width={elementSizes.logo} alt=\"project logo\" src={Logo} />\r\n            <Text style={{ textAlign: \"center\" }} padding=\"ml\" fontSize=\"xl\">\r\n              <Bold>Subs</Bold>titute\r\n            </Text>\r\n            <Text style={{ textAlign: \"center\" }} fontSize=\"ml\">\r\n              A subtitle player for the browser\r\n            </Text>\r\n          </Layout>\r\n          <Layout margin=\"ml\">\r\n            <SubtitleDropzone onLoad={setSubtitles} />\r\n          </Layout>\r\n          <Text margin=\"m\" style={{ textAlign: \"center\" }} fontSize=\"m\">\r\n            Using Substitute, you can watch subtitles from an external device,\r\n            such as a smartphone or tablet. This is useful for the rare\r\n            situations where you don't have control over the video source, or\r\n            want to easily adjust subtitle timings without interrupting the\r\n            movie.\r\n          </Text>\r\n          <Layout horizontalMargin=\"m\" verticalMargin=\"l\">\r\n            <img\r\n              src={screenshot}\r\n              alt=\"Screenshot of a mobile device using Substitute\"\r\n              style={{\r\n                maxWidth: elementSizes.screenshot,\r\n                width: \"100%\",\r\n                objectFit: \"contain\",\r\n              }}\r\n            />\r\n          </Layout>\r\n          <Layout style={{ alignItems: \"center\" }}>\r\n            <Text fontSize=\"ml\">\r\n              <Bold>Usage</Bold>\r\n            </Text>\r\n            <Text verticalMargin=\"m\">\r\n              <ol>\r\n                <li>\r\n                  Select a subtitle file (e.g. from{\" \"}\r\n                  <Link href=\"https://www.opensubtitles.org\">\r\n                    OpenSubtitles.org\r\n                  </Link>\r\n                  )\r\n                </li>\r\n                <li>\r\n                  Use the controls to synchronize the current subtitles with the\r\n                  movie\r\n                </li>\r\n                <li>\r\n                  If necessary, adjust the speed by changing the value or\r\n                  choosing adaptive speed to synchronize with your changes\r\n                </li>\r\n              </ol>\r\n            </Text>\r\n          </Layout>\r\n          <TextButton as=\"a\" href=\"https://github.com/thelartians/substitute\">\r\n            <FaGithub size={elementSizes.icon} />\r\n          </TextButton>\r\n        </Layout>\r\n      </Content>\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useMemo, useState } from \"react\";\r\nimport { Node } from \"subtitle\";\r\nimport { ThemeProvider } from \"./hooks/theme\";\r\nimport { defaultTheme } from \"./theme\";\r\nimport { SubtitlePlayer } from \"./components/subtitle_player\";\r\nimport { TimerProvider, Timer } from \"./hooks/timer\";\r\nimport { LandingPage } from \"./components/landing_page\";\r\n\r\nfunction App() {\r\n  const [subtitles, setSubtitles] = useState<Node[]>();\r\n\r\n  // use a new timer instance for every subtitle file\r\n  const timer = useMemo(() => {\r\n    return subtitles ? new Timer() : undefined;\r\n  }, [subtitles]);\r\n\r\n  return (\r\n    <ThemeProvider theme={defaultTheme}>\r\n      {subtitles ? (\r\n        <TimerProvider value={timer!}>\r\n          <SubtitlePlayer\r\n            close={() => setSubtitles(undefined)}\r\n            subtitles={subtitles}\r\n          />\r\n        </TimerProvider>\r\n      ) : (\r\n        <LandingPage setSubtitles={setSubtitles} />\r\n      )}\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { hydrate, render } from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nconst app = (\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\nif (rootElement!.hasChildNodes()) {\r\n  hydrate(app, rootElement);\r\n} else {\r\n  render(app, rootElement);\r\n}\r\n\r\n// import reportWebVitals from \"./reportWebVitals\";\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}